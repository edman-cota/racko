(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,c){"use strict";c.r(t);var a,n=c(1),r=c(48),i=c.n(r),s=(c(59),c(3)),l=c(2),o=c(17),d=c(49),j=(c(62),c(0)),u=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),s=i[0],u=i[1];return Object(j.jsxs)("div",{className:"Homepage-Container",children:[Object(j.jsx)("h1",{style:{color:"white"},children:"Rack-O - AndresQuinto, Mirka M, Oscar de Leon"}),Object(j.jsx)("img",{src:"https://m.media-amazon.com/images/I/71ERH-4PeWL._AC_SL1500_.jpg",className:"Homepage-background-image"}),Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center",width:"50%",padding:"0 400px",flexWrap:"wrap"},children:[Object(j.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){return u(e.target.value)},className:"Homepage-input",style:{paddingLeft:"10px"}}),""!==s&&Object(j.jsx)("input",{type:"text",placeholder:"Game Code",onChange:function(e){return a(e.target.value)},className:"Homepage-input",style:{paddingLeft:"10px"}}),""!==s&&Object(j.jsx)(o.b,{to:"/racko?roomCode=".concat(Object(d.v4)().slice(0,8),"&username=").concat(s),children:Object(j.jsx)("button",{className:"Homepage-button CreateRoom-button",children:"Create Room"})}),""!==c&&Object(j.jsx)(o.b,{to:"/racko?roomCode=".concat(c,"&username=").concat(s),children:Object(j.jsx)("button",{className:"Homepage-button JoinRoom-button",children:"Join Room"})})]})]})},b=c(52),p=c(13),h=c(53),m=c.n(h),O=c(54),y=c.n(O),x=function(e){return e.every((function(t,c){return 0===c||t>=e[c-1]}))},f=function(e){var t=m.a.parse(e.location.search),c=Object(s.e)(),r=Object(n.useState)(t.roomCode),i=Object(l.a)(r,1)[0],o=Object(n.useState)(!1),d=Object(l.a)(o,2),u=d[0],h=d[1],O=Object(n.useState)([]),f=Object(l.a)(O,2),g=f[0],k=f[1],v=Object(n.useState)(""),P=Object(l.a)(v,2),C=P[0],S=P[1],D=Object(n.useState)(""),w=Object(l.a)(D,2),N=w[0],G=w[1],I=Object(n.useState)([]),H=Object(l.a)(I,2),L=H[0],R=H[1],E=Object(n.useState)(function(e){for(var t=e.length-1;t>0;t--){var c=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[c],e[c]=a}return e}(Object(p.a)(Array(61).keys()))),T=Object(l.a)(E,2),W=T[0],_=T[1],A=Object(n.useState)([]),F=Object(l.a)(A,2),M=F[0],B=F[1],J=Object(n.useState)([]),q=Object(l.a)(J,2),Q=q[0],U=q[1],z=Object(n.useState)([]),K=Object(l.a)(z,2),V=K[0],X=K[1],Y=Object(n.useState)([]),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(n.useState)([]),ce=Object(l.a)(te,2),ae=ce[0],ne=ce[1],re=Object(n.useState)(!1),ie=Object(l.a)(re,2),se=ie[0],le=ie[1],oe=Object(n.useState)(""),de=Object(l.a)(oe,2),je=de[0],ue=de[1],be=Object(n.useState)(""),pe=Object(l.a)(be,2),he=pe[0],me=pe[1],Oe=Object(n.useState)(!0),ye=Object(l.a)(Oe,2),xe=ye[0],fe=ye[1],ge=Object(n.useState)(!1),ke=Object(l.a)(ge,2),ve=ke[0],Pe=ke[1],Ce=Object(n.useState)(""),Se=Object(l.a)(Ce,2),De=Se[0],we=Se[1],Ne=Object(n.useState)(!1),Ge=Object(l.a)(Ne,2),Ie=Ge[0],He=Ge[1],Le=Object(n.useState)(0),Re=Object(l.a)(Le,2),Ee=Re[0],Te=Re[1],We=function(){var e=document.querySelector(".chat-body");xe?(e.style.display="block",fe(!1)):(e.style.display="none",fe(!0))};Object(n.useEffect)((function(){return(a=y.a.connect("http://localhost:8000",{forceNew:!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]})).emit("join",{room:i,name:t.username},(function(e){e&&h(!0)})),function(){try{a.emit("disconnect"),a.off()}catch(e){}}}),[]),Object(n.useEffect)((function(){Pe(!1)}),[je]),Object(n.useEffect)((function(){a.on("roomData",(function(e){var t=e.users;k(t)})),a.on("currentUserData",(function(e){var t=e.playerType;S(t)}))}),[]),Object(n.useEffect)((function(){a.emit("initGameState",{gameOver:!1,turn:"Player 1",player1Deck:W.slice(0,10),player2Deck:W.slice(10,20),player3Deck:W.slice(20,30),player4Deck:W.slice(30,40),deck:W.slice(40,60),discartedDeck:[]})}),[]),Object(n.useEffect)((function(){a.on("initGameState",(function(e){var t=e.gameOver,c=e.turn,a=e.player1Deck,n=e.player2Deck,r=e.player3Deck,i=e.player4Deck,s=e.deck,l=e.discartedDeck;le(t),ue(c),U(a),X(n),ee(r),ne(i),_(s),B(l)})),a.on("updateGameState",(function(e){var t=e.gameOver,c=e.winner,a=e.turn,n=e.player1Deck,r=e.player2Deck,i=e.player3Deck,s=e.player4Deck,l=e.deck,o=e.discartedDeck,d=e.deckCard;e.deckDisabled;t&&le(t),c&&me(c),a&&ue(a),n&&U(n),r&&X(r),i&&ee(i),s&&ne(s),l&&_(l),o&&B(o),we(d)})),a.on("message",(function(e){R((function(t){return[].concat(Object(p.a)(t),[e])}));var t=document.querySelector(".chat-body");t.scrollTop=t.scrollHeight}))}),[]);var _e=function(){Pe(!0);var e=W[0];a.emit("updateGameState",{deckCard:e})};return Object(n.useEffect)((function(){se&&(alert("Game Over!!!: The winner is: "+he),c.push("/"))}),[]),Object(j.jsxs)("div",{className:"game-main-container",children:[u?Object(j.jsx)("h1",{children:"Room full"}):Object(j.jsxs)(j.Fragment,{children:[g.length<4&&Object(j.jsxs)("h1",{children:["Code: ",i]}),g.length<4&&g.map((function(e){return Object(j.jsx)("h3",{children:e.name})})),4===g.length&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Welcome to Rack-O"}),Object(j.jsxs)("div",{style:{background:"red",height:"30vh",display:"flex"},children:[Object(j.jsxs)("div",{style:{width:"50%",background:"green",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[Object(j.jsx)("h4",{style:{marginRight:"10px"},children:"Player 4"}),ae.map((function(e){return Object(j.jsx)("div",{style:{background:"purple",height:"100px",width:"75px",display:"flex",justifyContent:"center",alignItems:"center",border:"4px solid black",marginLeft:"6px",cursor:"pointer"},children:e})}))]}),Object(j.jsxs)("div",{style:{width:"50%",background:"blue",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[Object(j.jsx)("h4",{style:{marginRight:"10px"},children:"Player 3"}),$.map((function(e){return Object(j.jsx)("div",{style:{background:"purple",height:"100px",width:"75px",display:"flex",justifyContent:"center",alignItems:"center",border:"4px solid black",marginLeft:"6px",cursor:"pointer"},children:e})}))]})]}),Object(j.jsxs)("div",{style:{background:"green",height:"30vh",display:"flex"},children:[Object(j.jsxs)("div",{style:{width:"50%",background:"blue",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",cursor:"pointer"},children:[Object(j.jsxs)("h4",{style:{marginRight:"10px"},children:["Player 2: ",g[1].name]}),V.map((function(e){return Object(j.jsx)("div",{style:{background:"purple",height:"100px",width:"75px",display:"flex",justifyContent:"center",alignItems:"center",border:"4px solid black",marginLeft:"6px",cursor:"pointer"},onClick:function(t){var c=V.indexOf(e);X(Object.assign([],V,Object(b.a)({},c,80)))},children:e})}))]}),Object(j.jsxs)("div",{style:{width:"50%",background:"green",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[Object(j.jsxs)("h4",{style:{marginRight:"10px"},children:["Player 1: ",g[0].name]}),Q.map((function(e){return Object(j.jsx)("div",{style:{background:"purple",height:"100px",width:"75px",display:"flex",justifyContent:"center",alignItems:"center",border:"4px solid black",marginLeft:"6px",cursor:"pointer"},children:e})}))]})]}),Object(j.jsxs)("div",{className:"deck-container",children:["Player 1"===C&&Object(j.jsx)("button",{onClick:_e,className:"deck",disabled:"Player 1"!==je||ve,children:"Deck"}),"Player 2"===C&&Object(j.jsx)("button",{onClick:_e,className:"deck",disabled:"Player 2"!==je||ve,children:"Deck"}),"Player 3"===C&&Object(j.jsx)("button",{onClick:_e,className:"deck",disabled:"Player 3"!==je||ve,children:"Deck"}),"Player 4"===C&&Object(j.jsx)("button",{onClick:_e,className:"deck",disabled:"Player 4"!==je||ve,children:"Deck"}),Object(j.jsxs)("h3",{children:["Turn: ",je]}),Object(j.jsx)("div",{className:"chatBoxWrapper",children:Object(j.jsxs)("div",{className:"chat-box chat-box-player1",children:[Object(j.jsxs)("div",{className:"chat-head",children:[Object(j.jsx)("h2",{children:"Chat Box"}),xe?Object(j.jsx)("span",{onClick:We,class:"material-icons",children:"keyboard_arrow_up"}):Object(j.jsx)("span",{onClick:We,class:"material-icons",children:"keyboard_arrow_down"})]}),Object(j.jsxs)("div",{className:"chat-body",children:[Object(j.jsx)("div",{className:"msg-insert",children:L.map((function(e){return Object(j.jsx)("div",{className:"msg-send",children:"From: ".concat(e.user," ->  ").concat(e.text)})}))}),Object(j.jsx)("div",{className:"chat-text",children:Object(j.jsx)("input",{type:"text",placeholder:"Type a message...",value:N,onChange:function(e){return G(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&function(e){e.preventDefault(),N&&a.emit("sendMessage",{message:N},(function(){G("")}))}(e)}})})]})]})})]}),Object(j.jsxs)("div",{children:[C===je&&ve&&Object(j.jsxs)("div",{class:"card-from-deck",children:[Object(j.jsx)("div",{style:{background:"purple",height:"100px",width:"75px",display:"flex",justifyContent:"center",alignItems:"center",border:"4px solid black",marginLeft:"6px",cursor:"pointer"},children:De}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){He(!0)},className:"btn take",type:"submit",children:"Take"}),Object(j.jsx)("button",{onClick:function(){var e=W;e.splice(0,1),alert("Card discarted, turn changed"),a.emit("updateGameState",{deck:e,discartedDeck:[].concat(Object(p.a)(M),[De]),turn:"Player 1"===C?"Player 2":"Player 2"===C?"Player 3":"Player 3"===C?"Player 4":"Player 1"}),1===W.length&&a.emit("updateGameState",{deck:[].concat(Object(p.a)(M),[De])})},className:"btn discard",type:"submit",disabled:Ie,children:"Discard"})]}),Ie&&Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"number",placeholder:"Position",value:Ee,onChange:function(e){return Te(e.target.value)}}),Object(j.jsx)("button",{onClick:function(){He(!1);var e=[],t="",c=[];"Player 1"===C?(t=(e=Q)[Ee],e[Ee]=De,(c=W).splice(0,1),a.emit("updateGameState",{player1Deck:e,turn:"Player 2",deck:c,discartedDeck:[].concat(Object(p.a)(M),[t])})):"Player 2"===C?(t=(e=V)[Ee],e[Ee]=De,(c=W).splice(0,1),a.emit("updateGameState",{player2Deck:e,turn:"Player 3",deck:c,discartedDeck:[].concat(Object(p.a)(M),[t])})):"Player 3"===C?(t=(e=$)[Ee],e[Ee]=t,(c=W).splice(0,1),a.emit("updateGameState",{player3Deck:e,turn:"Player 4",deck:c,discartedDeck:[].concat(Object(p.a)(M),[t])})):(t=(e=ae)[Ee],e[Ee]=De,(c=W).splice(0,1),a.emit("updateGameState",{player4Deck:e,turn:"Player 1",deck:c,discartedDeck:[].concat(Object(p.a)(M),[t])})),1===W.length&&a.emit("updateGameState",{deck:[].concat(Object(p.a)(M),[t])}),"Player 1"===C?x(Q)&&a.emit("updateGameState",{gameOver:!0,winner:"Player 1"}):"Player 2"===C?x(V)&&a.emit("updateGameState",{gameOver:!0,winner:"Player 2"}):"Player 3"===C?x($)&&a.emit("updateGameState",{gameOver:!0,winner:"Player 3"}):x(ae)&&a.emit("updateGameState",{gameOver:!0,winner:"Player 4"}),alert("Card taken, turn changed")},children:"Accept"})]})]}),Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"14px",color:"red"},children:["Player 1"===C&&Object(j.jsx)("h1",{children:"Hi Player 1, you rock!"}),"Player 2"===C&&Object(j.jsx)("h1",{children:"Hi Player 2, you're the best!"}),"Player 3"===C&&Object(j.jsx)("h1",{children:"Hi Player 3, keep going!"}),"Player 4"===C&&Object(j.jsx)("h1",{children:"Hi Player 4, lumos!"})]})]})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("button",{className:"game-button red",children:"Quit"})})]})},g=Object(n.memo)(f),k=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(s.a,{path:"/",exact:!0,component:u}),Object(j.jsx)(s.a,{path:"/racko",component:g})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,103)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(k,{})}),document.getElementById("root")),v()},59:function(e,t,c){},62:function(e,t,c){}},[[102,1,2]]]);
//# sourceMappingURL=main.28fba94e.chunk.js.map